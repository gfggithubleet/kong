_format_version: "3.0"
services:
- name: example-service
  host: mockbin.org
  port: 80
  protocol: http
  routes:
    - name: example-route
      path_handling: v0
      paths:
        - ~/users/(?<id>\d+)/profile-(?<year>\d+).(?<format>\S+)
      plugins:
        - name: pre-function
          config:
            access:
              - |
                kong.response.exit(200, { params = kong.request.get_uri_captures() })
